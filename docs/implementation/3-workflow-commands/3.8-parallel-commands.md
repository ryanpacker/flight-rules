# 3.8 Parallel Session Commands

Workflow commands for managing parallel session status and cleanup.

## Goals

- Provide agent-accessible commands for parallel session management
- Integrate parallel session workflow into dev-session start/end flows

## Commands

- `parallel.status` — Show all active parallel sessions
- `parallel.cleanup` — Detect and clean up orphaned sessions

## Dependencies

- **Requires**: Parallel Sessions CLI (2.6)
- **Enhances**: Session Commands (3.3)

---

## 3.8.1. parallel.status Command

**Goal**: Show agent-readable status of all parallel sessions

**Approach**:
- Runs `flight-rules parallel status` to get current state
- Displays session list with navigation instructions
- Flags orphaned sessions

**Acceptance Criteria**:
- Shows all active sessions with metadata
- Provides clear navigation instructions
- Flags orphaned sessions for cleanup

**Status**: ✅ Complete

---

## 3.8.2. parallel.cleanup Command

**Goal**: Clean up orphaned parallel sessions

**Approach**:
- Runs `flight-rules parallel cleanup` to scan for orphans
- Removes manifest entries and branches for orphaned sessions

**Acceptance Criteria**:
- Detects orphaned sessions
- Cleans up manifest and branches
- Reports results clearly

**Status**: ✅ Complete

---

## 3.8.3. dev-session.start Parallel Integration

**Goal**: Offer parallel session option during session start

**Approach**:
- After establishing goals, ask if user wants parallel session
- If yes, run `flight-rules parallel create <name>`
- Note worktree path in session log

**Acceptance Criteria**:
- Option presented clearly
- Worktree created and registered
- Session log includes worktree metadata

**Status**: ✅ Complete

---

## 3.8.4. dev-session.end Parallel Integration

**Goal**: Handle merge workflow when ending a parallel session

**Approach**:
- Detect if running in a worktree
- Offer merge strategy (PR, merge, keep, abandon)
- Execute chosen strategy via `flight-rules parallel remove`

**Acceptance Criteria**:
- Detects parallel session context
- Offers all four merge strategies
- Executes cleanup after merge

**Status**: ✅ Complete
