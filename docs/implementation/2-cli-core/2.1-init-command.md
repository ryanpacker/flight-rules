# 2.1 Init Command

The `flight-rules init` command installs Flight Rules into a project.

## Goals

- Create `.flight-rules/` directory with framework files
- Optionally create `docs/` directory with templates
- Optionally generate agent adapters (Cursor, Claude Code)
- Optionally install `.editorconfig`
- Write `manifest.json` to track deployed version

## Constraints

- Must detect existing installations and offer reinstall option
- Must handle existing `docs/` directory gracefully
- Non-interactive mode skips destructive actions

## Dependencies

- **Requires**: None
- **Enables**: All other Flight Rules functionality

---

## 2.1.1. Core Installation Flow

**Goal**: Copy payload to `.flight-rules/` and optionally create docs

**Approach**:
- Check for existing `.flight-rules/` directory
- If exists in interactive mode: prompt for reinstall
- Copy payload files from npm package
- Prompt for docs directory creation
- Write manifest.json with version metadata

**Acceptance Criteria**:
- `.flight-rules/` contains all payload files
- `manifest.json` records version, timestamp, and deploying CLI
- Existing installations prompt before overwrite
- Non-interactive mode skips reinstall

**Status**: ✅ Complete

---

## 2.1.2. Docs Directory Creation

**Goal**: Create `docs/` with starter templates

**Approach**:
- Check for existing `docs/` directory
- If exists: skip or merge based on user choice
- Copy templates from `.flight-rules/doc-templates/`
- Create `session_logs/` subdirectory

**Acceptance Criteria**:
- `docs/` contains prd.md, progress.md, critical-learnings.md, tech-stack.md
- `docs/implementation/overview.md` created
- Existing docs preserved, only missing files added

**Status**: ✅ Complete

---

## 2.1.3. EditorConfig Installation

**Goal**: Optionally install `.editorconfig` for consistent formatting

**Approach**:
- After adapter prompt, offer `.editorconfig` installation
- Skip if file already exists
- Copy from `payload/.editorconfig`

**Acceptance Criteria**:
- Prompt only shown if `.editorconfig` doesn't exist
- File contains baseline settings (newlines, line endings, charset)
- Non-interactive mode skips this step

**Status**: ✅ Complete

**See also**: [editorconfig.md](../editorconfig.md) for detailed spec
