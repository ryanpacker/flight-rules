# 1.2 PRD Reconcile

Command for updating the PRD based on what was actually built.

## Goals

- Detect features/goals that were implemented but not documented in PRD
- Update goals, user stories, and success criteria to match reality
- Identify when non-goals have been violated (feature creep)

## Constraints

- Must preserve existing PRD structure and numbering where possible
- Should not remove content without explicit confirmation
- Needs access to git history and session logs

## Dependencies

- **Requires**: PRD must exist (`docs/prd.md`)
- **Enables**: `docs.reconcile` (uses this command)

---

## 1.2.1. Create prd.reconcile Command

**Goal**: Update PRD to reflect work that was done without proper documentation

**Approach**:
- Find last documented session in `docs/progress.md`
- Analyze commits since that date for new features/changes
- Compare against existing PRD goals and non-goals
- Propose additions/modifications with clear rationale

**Acceptance Criteria**:
- Command identifies undocumented work from git history
- Proposes specific PRD updates with previews
- Flags potential non-goal violations
- Supports one-shot mode: `/prd.reconcile since v0.5.0`
- Shows diff-style preview before applying changes

**Status**: ðŸ”µ Planned

---

## 1.2.2. Implement Scope Detection

**Goal**: Automatically determine what work is undocumented

**Approach**:
- Parse `docs/progress.md` for last session timestamp
- Use git log to find commits since that date
- Analyze commit messages and changed files
- Present summary for user confirmation

**Acceptance Criteria**:
- Correctly identifies last documented session date
- Handles case where no session logs exist
- Allows user to override detected scope
- Supports explicit scope arguments

**Status**: ðŸ”µ Planned
